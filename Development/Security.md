### 认证

- [JSON Web Token 入门教程 - 阮一峰的网络日志](http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html)


### 数字签名



### 加解密 

#### RSA

openssl方式生成加密长度1024位密钥:
```
生成私钥：openssl genrsa -out rsaprivatekey.pem 1024

生成公钥：openssl rsa -in rsaprivatekey.pem -out rsapublickey.pem -pubout

转换格式：openssl pkcs8 -topk8 -in rsaprivatekey.pem -out pkcs8rsaprivate_key.pem -nocrypt
```

- [两种方式生成RSA 公钥私钥_[| 小人物，大世界-CSDN博客_生产rsa](https://blog.csdn.net/li396864285/article/details/79865806)

##### RSA 可以用于加解密，也可以用于消息签名。

RSA 使用一对不同的密钥：公钥和私钥。公钥是公开的，你知道，别人也知道，别人也需要知道；私钥是只能持有者知道，不能泄露了，不然很麻烦。

##### 加解密

A 和 B 通信，A 使用 B 的公钥和 RSA 加密算法对消息进行加密，得到密文，密文扔出去后，只有 B 使用自己的私钥才能解。
B 回复 A，B 使用 A 的公钥和 RSA 加密算法对响应数据进行加密，加密后的密文只有 A 能够解。这就保证了，数据不会被第三方获取。

当然这里面还有一些其他的问题，比如怎样获取对方的公钥，怎样确定获取到的公钥就是对方的公钥而不是中间人伪造的公钥。可以了解下 https 握手的过程，https 主要通过对称加密（比如 AES 等）方式通信，但是对称加密密钥是通过 RSA 加密传输的。

##### 签名验签

RSA 可以用于消息签名，用于消息接收方确认消息发送方身份，防止伪造的消息。
A 将原始数据使用 A 的私钥进行 RSA 签名得到 Sign，原始数据附带签名一起发送给消息接收方，消息接收方 B 使用 A 的公钥、原始数据、Sign 三个要素进行验签过程，也就是使用 A 的公钥和 RSA 算发对 Sign 进行处理，用处理的结果与原始数据进行对比，如果一致，说明是 A 发送的，而且只能是 A 发送的，除非 A 的私钥泄露了。

由于 RSA 算法比较慢，而且原始数据的大小不确定，消息签名的计算和传输可能会造成很大的 cpu 和网络开销，消息签名一般是对原始数据的摘要进行签名，比如 MD5 消息摘要算法（ MD5 长度固定，且不同消息 MD5 冲突的可能性很小），对应的，验签的时候对比的不不是原始数据，而是消息摘要。使用指定的消息摘要进行签名时，签名过程计算较快，而且签名结果长度也相对固定。

总之，加解密和消息签名使用 RSA 时，目的不同，一个是为了防止明文消息被第三方获取（私密性），一个是为了方便消息接收方确认消息没有被篡改（完整性）。

- [RSA 可以做私钥加密，公钥解密吗？解密的结果还是加密之前的明文吗？ - V2EX](https://v2ex.com/t/542814)

##### 总结

**公钥**和**私钥**是对等的，并且可以互换。

用**公钥**加密的数据必须用**私钥**解密；用**私钥**加密的数据必须用**公钥**解密。

常见的数据加密过程，就是拿**事实公钥**对数据进行加密，稍后可以用**事实私钥**进行解密。

常见的数据签名过程，就是拿**事实私钥**对数据的摘要进行加密，稍后可以用**事实公钥**进行解密并验证完整性。

**私钥文件**和**公钥文件**不是对等的，不能互换。**私钥文件**中含有额外的参数，可以计算得到**公钥**，而**公钥文件**中没有，也无法计算得到**私钥**。

通常为了兼容性和计算方便，我们使用**常见参数密钥**，即**事实公钥**中的密文e为一特定值，通常为`65537`。这样使得使用了常见参数的**事实公钥**无法作为**事实私钥**使用，因为密文e不是安全的。

- [RSA加密算法中公钥和私钥的一些解惑](https://blog.x86.men/blog/rsa-faq)

##### 其它参考

- [The Illustrated TLS Connection: Every Byte Explained](https://tls.ulfheim.net/)
- [RSA的公钥和私钥到底哪个才是用来加密和哪个用来解密？ - 知乎](https://www.zhihu.com/question/25912483)
- [Java使用RSA加密解密签名及校验 - CSDN博客](https://blog.csdn.net/wangqiuyun/article/details/42143957)